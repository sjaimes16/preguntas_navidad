<div class="container">
  <h1>Trivia </h1>

  <!-- 1. PANTALLA DE SELECCIÓN DE GRUPO (MENÚ) -->
  <div *ngIf="!hasGameStarted" class="menu-card">
    <h2>Selecciona una categoría</h2>
    <p>Elige un grupo de preguntas para comenzar el desafío.</p>
    
    <div class="select-container">
      <label>Grupo de Preguntas:</label>
      <select [(ngModel)]="selectedGroupId" class="group-select">
        <option [value]="1">Grupo 1</option>
        <option [value]="2">Grupo 2</option>
        <option [value]="3">Grupo 3</option>
      </select>
    </div>

    <button class="start-btn" (click)="startGame()">¡Comenzar Quiz!</button>
  </div>

  <!-- 2. PANTALLA DE JUEGO -->
  <div *ngIf="hasGameStarted && !isQuizFinished" class="quiz-card">
    
    <div class="header">
      <span>Pregunta {{ currentQuestionIndex + 1 }} / {{ questions.length }}</span>
      <span class="timer" [class.danger]="timeLeft <= 5">⏱ {{ timeLeft }}s</span>
    </div>

    <h2 class="question-text">{{ questions[currentQuestionIndex].question }}</h2>

    <div class="options-grid">
      <button 
        *ngFor="let option of questions[currentQuestionIndex].options; let i = index"
        class="option-btn"
        (click)="selectOption(i)">
        <span class="letter">{{ ['A', 'B', 'C', 'D'][i] }}</span> {{ option }}
      </button>
    </div>
  </div>

  <!-- 3. PANTALLA DE RESULTADOS -->
  <div *ngIf="hasGameStarted && isQuizFinished" class="result-card">
    <h2>¡Juego Terminado!</h2>
    
    <div class="score-board">
      <div class="score-item correct">
        <h3>Correctas</h3>
        <p>{{ scoreCorrect }}</p>
      </div>
      <div class="score-item wrong">
        <h3>Incorrectas</h3>
        <p>{{ scoreIncorrect }}</p>
      </div>
      <div class="score-item time">
        <h3>Tiempo Total</h3>
        <p>{{ totalTimePlayed }}</p>
      </div>
    </div>

    <button class="restart-btn" (click)="goToMenu()">Volver al Menú</button>
  </div>
</div>